{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _Particle = _interopRequireDefault(require(\"./Particle\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar ParticleGenerator = function ParticleGenerator(_canvas, getOptions) {\n  var _this = this;\n\n  _classCallCheck(this, ParticleGenerator);\n\n  _defineProperty(this, \"canvas\", void 0);\n\n  _defineProperty(this, \"context\", void 0);\n\n  _defineProperty(this, \"getOptions\", void 0);\n\n  _defineProperty(this, \"x\", 0);\n\n  _defineProperty(this, \"y\", 0);\n\n  _defineProperty(this, \"w\", 0);\n\n  _defineProperty(this, \"h\", 0);\n\n  _defineProperty(this, \"lastNumberOfPieces\", 0);\n\n  _defineProperty(this, \"tweenInitTime\", Date.now());\n\n  _defineProperty(this, \"particles\", []);\n\n  _defineProperty(this, \"particlesGenerated\", 0);\n\n  _defineProperty(this, \"removeParticleAt\", function (i) {\n    _this.particles.splice(i, 1);\n  });\n\n  _defineProperty(this, \"getParticle\", function () {\n    var newParticleX = (0, _utils.randomRange)(_this.x, _this.w + _this.x);\n    var newParticleY = (0, _utils.randomRange)(_this.y, _this.h + _this.y);\n    return new _Particle[\"default\"](_this.context, _this.getOptions, newParticleX, newParticleY);\n  });\n\n  _defineProperty(this, \"animate\", function () {\n    var canvas = _this.canvas,\n        context = _this.context,\n        particlesGenerated = _this.particlesGenerated,\n        lastNumberOfPieces = _this.lastNumberOfPieces;\n\n    var _this$getOptions = _this.getOptions(),\n        run = _this$getOptions.run,\n        recycle = _this$getOptions.recycle,\n        numberOfPieces = _this$getOptions.numberOfPieces,\n        debug = _this$getOptions.debug,\n        tweenFunction = _this$getOptions.tweenFunction,\n        tweenDuration = _this$getOptions.tweenDuration;\n\n    if (!run) {\n      return false;\n    }\n\n    var nP = _this.particles.length;\n    var activeCount = recycle ? nP : particlesGenerated;\n    var now = Date.now(); // Initial population\n\n    if (activeCount < numberOfPieces) {\n      // Use the numberOfPieces prop as a key to reset the easing timing\n      if (lastNumberOfPieces !== numberOfPieces) {\n        _this.tweenInitTime = now;\n        _this.lastNumberOfPieces = numberOfPieces;\n      }\n\n      var tweenInitTime = _this.tweenInitTime; // Add more than one piece per loop, otherwise the number of pieces would\n      // be limitted by the RAF framerate\n\n      var progressTime = now - tweenInitTime > tweenDuration ? tweenDuration : Math.max(0, now - tweenInitTime);\n      var tweenedVal = tweenFunction(progressTime, activeCount, numberOfPieces, tweenDuration);\n      var numToAdd = Math.round(tweenedVal - activeCount);\n\n      for (var i = 0; i < numToAdd; i++) {\n        _this.particles.push(_this.getParticle());\n      }\n\n      _this.particlesGenerated += numToAdd;\n    }\n\n    if (debug) {\n      // Draw debug text\n      context.font = '12px sans-serif';\n      context.fillStyle = '#333';\n      context.textAlign = 'right';\n      context.fillText(\"Particles: \".concat(nP), canvas.width - 10, canvas.height - 20);\n    } // Maintain the population\n\n\n    _this.particles.forEach(function (p, i) {\n      // Update each particle's position\n      p.update(); // Prune the off-canvas particles\n\n      if (p.y > canvas.height || p.y < -100 || p.x > canvas.width + 100 || p.x < -100) {\n        if (recycle && activeCount <= numberOfPieces) {\n          // Replace the particle with a brand new one\n          _this.particles[i] = _this.getParticle();\n        } else {\n          _this.removeParticleAt(i);\n        }\n      }\n    });\n\n    return nP > 0 || activeCount < numberOfPieces;\n  });\n\n  this.canvas = _canvas;\n  var ctx = this.canvas.getContext('2d');\n\n  if (!ctx) {\n    throw new Error('Could not get canvas context');\n  }\n\n  this.context = ctx;\n  this.getOptions = getOptions;\n};\n\nexports[\"default\"] = ParticleGenerator;","map":{"version":3,"sources":["Q:/app_django_react_v01/main_app_ui/node_modules/react-confetti/dist/ParticleGenerator.js"],"names":["Object","defineProperty","exports","value","_Particle","_interopRequireDefault","require","_utils","obj","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperty","key","enumerable","configurable","writable","ParticleGenerator","_canvas","getOptions","_this","Date","now","i","particles","splice","newParticleX","randomRange","x","w","newParticleY","y","h","context","canvas","particlesGenerated","lastNumberOfPieces","_this$getOptions","run","recycle","numberOfPieces","debug","tweenFunction","tweenDuration","nP","length","activeCount","tweenInitTime","progressTime","Math","max","tweenedVal","numToAdd","round","push","getParticle","font","fillStyle","textAlign","fillText","concat","width","height","forEach","p","update","removeParticleAt","ctx","getContext","Error"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _Particle = _interopRequireDefault(require(\"./Particle\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ParticleGenerator = function ParticleGenerator(_canvas, getOptions) {\n  var _this = this;\n\n  _classCallCheck(this, ParticleGenerator);\n\n  _defineProperty(this, \"canvas\", void 0);\n\n  _defineProperty(this, \"context\", void 0);\n\n  _defineProperty(this, \"getOptions\", void 0);\n\n  _defineProperty(this, \"x\", 0);\n\n  _defineProperty(this, \"y\", 0);\n\n  _defineProperty(this, \"w\", 0);\n\n  _defineProperty(this, \"h\", 0);\n\n  _defineProperty(this, \"lastNumberOfPieces\", 0);\n\n  _defineProperty(this, \"tweenInitTime\", Date.now());\n\n  _defineProperty(this, \"particles\", []);\n\n  _defineProperty(this, \"particlesGenerated\", 0);\n\n  _defineProperty(this, \"removeParticleAt\", function (i) {\n    _this.particles.splice(i, 1);\n  });\n\n  _defineProperty(this, \"getParticle\", function () {\n    var newParticleX = (0, _utils.randomRange)(_this.x, _this.w + _this.x);\n    var newParticleY = (0, _utils.randomRange)(_this.y, _this.h + _this.y);\n    return new _Particle[\"default\"](_this.context, _this.getOptions, newParticleX, newParticleY);\n  });\n\n  _defineProperty(this, \"animate\", function () {\n    var canvas = _this.canvas,\n        context = _this.context,\n        particlesGenerated = _this.particlesGenerated,\n        lastNumberOfPieces = _this.lastNumberOfPieces;\n\n    var _this$getOptions = _this.getOptions(),\n        run = _this$getOptions.run,\n        recycle = _this$getOptions.recycle,\n        numberOfPieces = _this$getOptions.numberOfPieces,\n        debug = _this$getOptions.debug,\n        tweenFunction = _this$getOptions.tweenFunction,\n        tweenDuration = _this$getOptions.tweenDuration;\n\n    if (!run) {\n      return false;\n    }\n\n    var nP = _this.particles.length;\n    var activeCount = recycle ? nP : particlesGenerated;\n    var now = Date.now(); // Initial population\n\n    if (activeCount < numberOfPieces) {\n      // Use the numberOfPieces prop as a key to reset the easing timing\n      if (lastNumberOfPieces !== numberOfPieces) {\n        _this.tweenInitTime = now;\n        _this.lastNumberOfPieces = numberOfPieces;\n      }\n\n      var tweenInitTime = _this.tweenInitTime; // Add more than one piece per loop, otherwise the number of pieces would\n      // be limitted by the RAF framerate\n\n      var progressTime = now - tweenInitTime > tweenDuration ? tweenDuration : Math.max(0, now - tweenInitTime);\n      var tweenedVal = tweenFunction(progressTime, activeCount, numberOfPieces, tweenDuration);\n      var numToAdd = Math.round(tweenedVal - activeCount);\n\n      for (var i = 0; i < numToAdd; i++) {\n        _this.particles.push(_this.getParticle());\n      }\n\n      _this.particlesGenerated += numToAdd;\n    }\n\n    if (debug) {\n      // Draw debug text\n      context.font = '12px sans-serif';\n      context.fillStyle = '#333';\n      context.textAlign = 'right';\n      context.fillText(\"Particles: \".concat(nP), canvas.width - 10, canvas.height - 20);\n    } // Maintain the population\n\n\n    _this.particles.forEach(function (p, i) {\n      // Update each particle's position\n      p.update(); // Prune the off-canvas particles\n\n      if (p.y > canvas.height || p.y < -100 || p.x > canvas.width + 100 || p.x < -100) {\n        if (recycle && activeCount <= numberOfPieces) {\n          // Replace the particle with a brand new one\n          _this.particles[i] = _this.getParticle();\n        } else {\n          _this.removeParticleAt(i);\n        }\n      }\n    });\n\n    return nP > 0 || activeCount < numberOfPieces;\n  });\n\n  this.canvas = _canvas;\n  var ctx = this.canvas.getContext('2d');\n\n  if (!ctx) {\n    throw new Error('Could not get canvas context');\n  }\n\n  this.context = ctx;\n  this.getOptions = getOptions;\n};\n\nexports[\"default\"] = ParticleGenerator;"]},"metadata":{},"sourceType":"script"}