{"ast":null,"code":"import _objectSpread from\"Q:/app_django_react_v01/main_app_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"Q:/app_django_react_v01/main_app_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _slicedToArray from\"Q:/app_django_react_v01/main_app_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Controller,useForm}from\"react-hook-form\";import Dropzone from\"react-dropzone\";import{List,ListItem,Paper}from\"material-ui\";import{CloudUpload}from\"@material-ui/icons\";import{ListItemIcon,makeStyles}from\"@material-ui/core\";import{InsertDriveFile}from\"@material-ui/icons\";import{ListItemText}from\"@material-ui/core\";import MuiThemeProvider from'material-ui/styles/MuiThemeProvider';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{backgroundColor:\"#eee\",textAlign:'center',cursor:'pointer',color:\"#333\",padding:\"10px\",marginTop:\"20px\"},icon:{marginTop:\"16px\",color:\"#888\",fontSize:\"42px\"}};});export var FileInput=function FileInput(_ref){var control=_ref.control,name=_ref.name;// const {register, handleSubmit} = useForm()\nvar myStyle=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),files=_useState2[0],setFiles=_useState2[1];var res=useEffect(function(){console.log(files);},[files]);return/*#__PURE__*/_jsx(Controller,{control:control,name:name,defaultValue:[],render:function render(// {field: {onChange, onBlur, value}},\n_ref2){var onChange=_ref2.onChange,onDrop=_ref2.onDrop,onBlur=_ref2.onBlur,value=_ref2.value,props=_objectWithoutProperties(_ref2,[\"onChange\",\"onDrop\",\"onBlur\",\"value\"]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Dropzone,{onDrop:onChange,children:function children(_ref3){var getRootProps=_ref3.getRootProps,getInputProps=_ref3.getInputProps;return/*#__PURE__*/ (// <MuiThemeProvider>\n// <Paper variant={'outlined'} {...getRootProps()}>\n//     <CloudUpload />\n//     <input {...getInputProps()} name={name} onBlur={onBlur} />\n//      <p>Drag 'n' Drop files here, or click to select files</p>\n_jsxs(\"div\",_objectSpread(_objectSpread({className:myStyle.root,variant:'outlined'},getRootProps()),{},{children:[/*#__PURE__*/_jsx(CloudUpload,{className:myStyle.icon}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({id:'field'},getInputProps()),{},{value:value,name:name,onChange:onChange,onBlur:onBlur})),/*#__PURE__*/_jsx(\"p\",{children:\"Drop files here, or click to select files\"})]}))// </Paper>\n// </MuiThemeProvider>\n);}}),/*#__PURE__*/_jsx(MuiThemeProvider,{children:/*#__PURE__*/_jsxs(List,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"test check\"}),value&&value.map(function(f,index){return/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"test check\"}),/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(InsertDriveFile,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:f.name,secondary:f.size})]},index);})]})})]});}});};","map":{"version":3,"sources":["Q:/app_django_react_v01/main_app_ui/src/components/FileInput.js"],"names":["React","useEffect","useState","Controller","useForm","Dropzone","List","ListItem","Paper","CloudUpload","ListItemIcon","makeStyles","InsertDriveFile","ListItemText","MuiThemeProvider","useStyles","theme","root","backgroundColor","textAlign","cursor","color","padding","marginTop","icon","fontSize","FileInput","control","name","myStyle","files","setFiles","res","console","log","onChange","onDrop","onBlur","value","props","getRootProps","getInputProps","map","f","index","size"],"mappings":"ieAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,UAAR,CAAoBC,OAApB,KAAkC,iBAAlC,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CACA,OAAQC,IAAR,CAAcC,QAAd,CAAwBC,KAAxB,KAAoC,aAApC,CACA,OAAQC,WAAR,KAA0B,oBAA1B,CACA,OAAQC,YAAR,CAAsBC,UAAtB,KAAuC,mBAAvC,CACA,OAAQC,eAAR,KAA8B,oBAA9B,CACA,OAAQC,YAAR,KAA2B,mBAA3B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,qCAA7B,C,6IAEA,GAAMC,CAAAA,SAAS,CAAGJ,UAAU,CAAC,SAACK,KAAD,QAAY,CACrCC,IAAI,CAAE,CACFC,eAAe,CAAE,MADf,CAEFC,SAAS,CAAE,QAFT,CAGFC,MAAM,CAAE,SAHN,CAIFC,KAAK,CAAE,MAJL,CAKFC,OAAO,CAAE,MALP,CAMFC,SAAS,CAAE,MANT,CAD+B,CASrCC,IAAI,CAAE,CACFD,SAAS,CAAE,MADT,CAEFF,KAAK,CAAE,MAFL,CAGFI,QAAQ,CAAE,MAHR,CAT+B,CAAZ,EAAD,CAA5B,CAeA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAqB,IAAnBC,CAAAA,OAAmB,MAAnBA,OAAmB,CAAVC,IAAU,MAAVA,IAAU,CAC1C;AACA,GAAMC,CAAAA,OAAO,CAAGd,SAAS,EAAzB,CACA,cAA0Bb,QAAQ,CAAC,EAAD,CAAlC,wCAAO4B,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,GAAG,CAAG/B,SAAS,CAAC,UAAM,CACxBgC,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EACH,CAFoB,CAElB,CAACA,KAAD,CAFkB,CAArB,CAGA,mBACI,KAAC,UAAD,EAAY,OAAO,CAAEH,OAArB,CACY,IAAI,CAAEC,IADlB,CAEY,YAAY,CAAE,EAF1B,CAGY,MAAM,CAAE,gBACJ;AADI,UAEHO,CAAAA,QAFG,OAEHA,QAFG,CAEOC,MAFP,OAEOA,MAFP,CAEeC,MAFf,OAEeA,MAFf,CAEuBC,KAFvB,OAEuBA,KAFvB,CAEiCC,KAFjC,2FAIJ,wCACI,KAAC,QAAD,EAAU,MAAM,CAAEJ,QAAlB,UAkBQ,4BAAEK,CAAAA,YAAF,OAAEA,YAAF,CAAgBC,aAAhB,OAAgBA,aAAhB,qBACI;AACA;AACA;AACA;AACA;AACA,yCAAK,SAAS,CAAEZ,OAAO,CAACZ,IAAxB,CAA8B,OAAO,CAAE,UAAvC,EAAuDuB,YAAY,EAAnE,6BACI,KAAC,WAAD,EAAa,SAAS,CAAEX,OAAO,CAACL,IAAhC,EADJ,cAEI,0CAAO,EAAE,CAAE,OAAX,EAAwBiB,aAAa,EAArC,MAAyC,KAAK,CAAEH,KAAhD,CAAuD,IAAI,CAAEV,IAA7D,CAAmE,QAAQ,CAAEO,QAA7E,CAAuF,MAAM,CAAEE,MAA/F,GAFJ,cAGI,gEAHJ,IAKA;AACA;AAZJ,GAlBR,EADJ,cAmCI,KAAC,gBAAD,wBACI,MAAC,IAAD,yBACI,iCADJ,CAGQC,KAAK,EAAIA,KAAK,CAACI,GAAN,CAAU,SAACC,CAAD,CAAIC,KAAJ,qBACf,MAAC,QAAD,yBACI,iCADJ,cAEI,KAAC,YAAD,wBACI,KAAC,eAAD,IADJ,EAFJ,cAKI,KAAC,YAAD,EAAc,OAAO,CAAED,CAAC,CAACf,IAAzB,CAA+B,SAAS,CAAEe,CAAC,CAACE,IAA5C,EALJ,GAAeD,KAAf,CADe,EAAV,CAHjB,GADJ,EAnCJ,GAJI,EAHpB,EADJ,CA+DH,CAtEM","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {Controller, useForm} from \"react-hook-form\";\r\nimport Dropzone from \"react-dropzone\";\r\nimport {List, ListItem, Paper} from \"material-ui\";\r\nimport {CloudUpload} from \"@material-ui/icons\";\r\nimport {ListItemIcon, makeStyles} from \"@material-ui/core\";\r\nimport {InsertDriveFile} from \"@material-ui/icons\";\r\nimport {ListItemText} from \"@material-ui/core\";\r\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        backgroundColor: \"#eee\",\r\n        textAlign: 'center',\r\n        cursor: 'pointer',\r\n        color: \"#333\",\r\n        padding: \"10px\",\r\n        marginTop: \"20px\"\r\n    },\r\n    icon: {\r\n        marginTop: \"16px\",\r\n        color: \"#888\",\r\n        fontSize: \"42px\"\r\n    }\r\n}))\r\nexport const FileInput = ({control, name}) => {\r\n    // const {register, handleSubmit} = useForm()\r\n    const myStyle = useStyles()\r\n    const [files, setFiles] = useState([])\r\n    const res = useEffect(() => {\r\n        console.log(files)\r\n    }, [files])\r\n    return (\r\n        <Controller control={control}\r\n                    name={name}\r\n                    defaultValue={[]}\r\n                    render={(\r\n                        // {field: {onChange, onBlur, value}},\r\n                        {onChange, onDrop, onBlur, value, ...props}\r\n                    ) =>\r\n                        <>\r\n                            <Dropzone onDrop={onChange}>\r\n                            {/*                  <Dropzone*/}\r\n                            {/*onChange={onDropFiles}>*/}\r\n                            {/*                  <Dropzone onDrop={acceptedFiles => setFiles(acceptedFiles)}>*/}\r\n                            {/*<Dropzone onDrop={async (acceptedFiles) => {*/}\r\n                            {/*    console.log(acceptedFiles)*/}\r\n                            {/*    value = acceptedFiles*/}\r\n                            {/*    onChange()*/}\r\n                            {/*    console.log(value)*/}\r\n                            {/*}}>*/}\r\n                                {/*                              {dropzoneProps => {*/}\r\n                                {/*  return (*/}\r\n                                {/*    <div>*/}\r\n                                {/*      <p>Drop some files here</p>*/}\r\n                                {/*    </div>*/}\r\n                                {/*  );*/}\r\n                                {/*}}*/}\r\n                                {\r\n                                    ({getRootProps, getInputProps}) => (\r\n                                        // <MuiThemeProvider>\r\n                                        // <Paper variant={'outlined'} {...getRootProps()}>\r\n                                        //     <CloudUpload />\r\n                                        //     <input {...getInputProps()} name={name} onBlur={onBlur} />\r\n                                        //      <p>Drag 'n' Drop files here, or click to select files</p>\r\n                                        <div className={myStyle.root} variant={'outlined'} {...getRootProps()}>\r\n                                            <CloudUpload className={myStyle.icon}/>\r\n                                            <input id={'field'} {...getInputProps()} value={value} name={name} onChange={onChange} onBlur={onBlur}/>\r\n                                            <p>Drop files here, or click to select files</p>\r\n                                        </div>\r\n                                        // </Paper>\r\n                                        // </MuiThemeProvider>\r\n                                    )\r\n                                }\r\n                            </Dropzone>\r\n                            <MuiThemeProvider>\r\n                                <List>\r\n                                    <p>test check</p>\r\n                                    {\r\n                                        value && value.map((f, index) => (\r\n                                            <ListItem key={index}>\r\n                                                <p>test check</p>\r\n                                                <ListItemIcon>\r\n                                                    <InsertDriveFile/>\r\n                                                </ListItemIcon>\r\n                                                <ListItemText primary={f.name} secondary={f.size}/>\r\n                                            </ListItem>\r\n                                        ))\r\n                                    }\r\n                                </List>\r\n                            </MuiThemeProvider>\r\n                        </>\r\n                    }\r\n        />\r\n    );\r\n};"]},"metadata":{},"sourceType":"module"}