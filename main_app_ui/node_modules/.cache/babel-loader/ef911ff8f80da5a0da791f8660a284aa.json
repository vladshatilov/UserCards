{"ast":null,"code":"import _slicedToArray from\"Q:/app_django_react_v01/main_app_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{MainContainer}from\"./components/MainContainer\";import axios from\"axios\";import Typography from\"@material-ui/core/Typography\";import{MuiThemeProvider,TableContainer}from\"@material-ui/core\";import Table from\"@material-ui/core/Table\";import TableHead from\"@material-ui/core/TableHead\";import TableRow from\"@material-ui/core/TableRow\";import TableCell from\"@material-ui/core/TableCell\";import TableBody from\"@material-ui/core/TableBody\";import makeStyles from\"@material-ui/core/styles/makeStyles\";import{useHistory}from\"react-router-dom\";import{Form}from\"./components/Form\";import{PrimaryButton}from\"./components/PrimaryButton\";import ReactFancyBox from\"react-fancybox\";import thubnail from'./thubnail.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{marginBottom:\"30px\",textAlign:\"center\",width:'auto',minWidth:0},table:{marginBottom:\"30px\"},head:{backgroundColor:\"orange\",color:'white'}};});export var Main=function Main(){var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var myStyle=useStyles();var onSubmit=function onSubmit(){history.push('/step1');};// const showFull = () => {\n//     console.log('clicked on image')\n//     // console.log(e.target.className)\n//     let element = document.getElementById('image');\n//     const myElementClone = element.cloneNode()\n//     myElementClone.onClick = function onClick(event) {\n//         console.log(event.type + ' got fired')\n//         document.getElementById('root').removeChild(myElementClone)\n//     }\n//     document.getElementById('root').appendChild(myElementClone)\n//     if (myElementClone.className === \"normal\") {\n//         myElementClone.className = \"rotate\";\n//     }\n//     // else if (element.className === \"rotate\") {\n//         // document.getElementById('root').removeChild(myElementClone)\n//     // }\n// }\nvar res=useEffect(function(){axios({method:\"GET\",url:\"http://127.0.0.1:8000/api/card/\"}).then(function(response){var _response$data;console.log('check response');console.log(response);console.log(response.data);setData((_response$data=response.data)!==null&&_response$data!==void 0?_response$data:[]);// setData(response.data.results ?? [])\n});},[]);return/*#__PURE__*/_jsxs(MainContainer,{children:[/*#__PURE__*/_jsx(Typography,{component:'h2',variant:'h5',children:\"All user cards \\uD83E\\uDD73\\uD83C\\uDF83\"}),/*#__PURE__*/_jsx(MuiThemeProvider,{className:myStyle.root,children:/*#__PURE__*/_jsx(TableContainer,{className:myStyle.root,component:\"div\",children:/*#__PURE__*/_jsxs(Table,{className:myStyle.table,children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{align:'right',children:\"Last Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"E-mail\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Phone\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:data.map(function(p){var _p$phoneNumber;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:p.firstName}),/*#__PURE__*/_jsx(TableCell,{children:p.lastName}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(p.email),children:p.email})}),/*#__PURE__*/_jsx(TableCell,{align:'right',children:/*#__PURE__*/_jsx(\"a\",{href:\"tel:{p.phoneNumber?.toString()}\",className:\"Phonny\",children:(_p$phoneNumber=p.phoneNumber)===null||_p$phoneNumber===void 0?void 0:_p$phoneNumber.toString()})}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(\"img\",{src:thubnail}),/*#__PURE__*/_jsx(ReactFancyBox,{thumbnail:thubnail,image:p.files})]})]},p.id);})})]})})}),/*#__PURE__*/_jsx(Form,{onClick:onSubmit,children:/*#__PURE__*/_jsx(PrimaryButton,{children:\"Add user card\"})})]});};","map":{"version":3,"sources":["Q:/app_django_react_v01/main_app_ui/src/Main.js"],"names":["React","useEffect","useState","MainContainer","axios","Typography","MuiThemeProvider","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","makeStyles","useHistory","Form","PrimaryButton","ReactFancyBox","thubnail","useStyles","theme","root","marginBottom","textAlign","width","minWidth","table","head","backgroundColor","color","Main","history","data","setData","myStyle","onSubmit","push","res","method","url","then","response","console","log","map","p","firstName","lastName","email","phoneNumber","toString","files","id"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {MainContainer} from \"./components/MainContainer\";\r\nimport axios from \"axios\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {MuiThemeProvider, TableContainer} from \"@material-ui/core\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {Form} from \"./components/Form\";\r\nimport {PrimaryButton} from \"./components/PrimaryButton\";\r\nimport ReactFancyBox from \"react-fancybox\";\r\nimport thubnail from './thubnail.png';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        marginBottom: \"30px\",\r\n        textAlign: \"center\",\r\n        width: 'auto',\r\n        minWidth: 0,\r\n    },\r\n    table: {\r\n        marginBottom: \"30px\"\r\n    },\r\n    head: {\r\n        backgroundColor: \"orange\",\r\n        color: 'white'\r\n    },\r\n}))\r\n\r\nexport const Main = () => {\r\n    const history = useHistory()\r\n    const [data, setData] = useState([])\r\n    const myStyle = useStyles()\r\n\r\n    const onSubmit = () => {\r\n        history.push('/step1')\r\n    }\r\n\r\n    // const showFull = () => {\r\n    //     console.log('clicked on image')\r\n    //     // console.log(e.target.className)\r\n    //     let element = document.getElementById('image');\r\n    //     const myElementClone = element.cloneNode()\r\n    //     myElementClone.onClick = function onClick(event) {\r\n    //         console.log(event.type + ' got fired')\r\n    //         document.getElementById('root').removeChild(myElementClone)\r\n    //     }\r\n    //     document.getElementById('root').appendChild(myElementClone)\r\n    //     if (myElementClone.className === \"normal\") {\r\n    //         myElementClone.className = \"rotate\";\r\n    //     }\r\n    //     // else if (element.className === \"rotate\") {\r\n    //         // document.getElementById('root').removeChild(myElementClone)\r\n    //     // }\r\n    // }\r\n\r\n    const res = useEffect(() => {\r\n        axios({\r\n            method: \"GET\",\r\n            url: \"http://127.0.0.1:8000/api/card/\"\r\n        }).then(response => {\r\n            console.log('check response')\r\n            console.log(response)\r\n            console.log(response.data)\r\n            setData(response.data ?? [])\r\n            // setData(response.data.results ?? [])\r\n        })\r\n    }, [])\r\n    return (\r\n        <MainContainer>\r\n            <Typography component={'h2'} variant={'h5'}>\r\n                All user cards 🥳🎃\r\n            </Typography>\r\n            {/*<ul>*/}\r\n            {/*    { data && data.map(p => (*/}\r\n            {/*        <li key={p.id}>{p.firstName}--{p.email}</li>*/}\r\n            {/*    ))}*/}\r\n            {/*</ul>*/}\r\n            <MuiThemeProvider className={myStyle.root}>\r\n                <TableContainer className={myStyle.root} component={\"div\"}>\r\n                    <Table className={myStyle.table}>\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell>\r\n                                    Name\r\n                                </TableCell>\r\n                                <TableCell align={'right'}>\r\n                                    Last Name\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                    E-mail\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                    Phone\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {data.map(p => (\r\n                                <TableRow key={p.id}>\r\n                                    <TableCell>{p.firstName}</TableCell>\r\n                                    <TableCell>{p.lastName}</TableCell>\r\n                                    <TableCell><a href={`mailto:${p.email}`}>{p.email}</a></TableCell>\r\n                                    {/*<TableCell align={'right'}>{p.phoneNumber?.toString()}</TableCell>*/}\r\n                                    <TableCell align={'right'}><a href={`tel:{p.phoneNumber?.toString()}`}\r\n                                                                  className=\"Phonny\">\r\n                                        {p.phoneNumber?.toString()}\r\n                                    </a></TableCell>\r\n                                    <TableCell>\r\n                                        {/*<a href={p.files}><img src={p.files} width=\"24\" height=\"24\" alt=\"Атрибут юзера\" title={p.firstName+' '+p.lastName}/></a*/}\r\n                                        {/*<img src={p.files} width=\"240\" height=\"240\" id=\"image\"*/}\r\n                                        {/*     onClick={() => showFull()} className=\"normal\" alt=\"Атрибут юзера\"*/}\r\n                                        {/*     title={p.firstName + ' ' + p.lastName}/>*/}\r\n                                        <img src={thubnail} />\r\n                                        <ReactFancyBox thumbnail={thubnail} image={p.files}/>\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </MuiThemeProvider>\r\n            <Form onClick={onSubmit}>\r\n                <PrimaryButton>Add user card</PrimaryButton>\r\n            </Form>\r\n        </MainContainer>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}