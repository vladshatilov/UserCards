{"ast":null,"code":"import _regeneratorRuntime from\"Q:/app_django_react_v01/main_app_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"Q:/app_django_react_v01/main_app_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"Q:/app_django_react_v01/main_app_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{MainContainer}from\"./components/MainContainer\";import Typography from\"@material-ui/core/Typography\";import{useData}from\"./DataContext\";import{makeStyles,MuiThemeProvider,TableContainer}from\"@material-ui/core\";import{Paper}from\"material-ui\";import TableHead from\"@material-ui/core/TableHead\";import List from\"@material-ui/core/List\";import ListItem from\"@material-ui/core/ListItem\";import TableCell from\"@material-ui/core/TableCell\";import TableRow from\"@material-ui/core/TableRow\";import TableBody from\"@material-ui/core/TableBody\";import{Link}from\"react-router-dom\";import Table from\"@material-ui/core/Table\";import ListItemIcon from\"@material-ui/core/ListItemIcon\";import{InsertDriveFile}from\"@material-ui/icons\";import ListItemText from\"@material-ui/core/ListItemText\";import{PrimaryButton}from\"./components/PrimaryButton\";import Swal from'sweetalert2';import Confetti from\"react-confetti\";// import useWindowSize from 'react-use/lib/useWindowSize'\nimport axios from\"axios\";import{$,jQuery}from'jquery';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{marginBottom:\"30px\"},table:{marginBottom:\"30px\"}};});function getCookie(name){if(!document.cookie){return null;}var token=document.cookie.split(';').map(function(c){return c.trim();}).filter(function(c){return c.startsWith(name+'=');});if(token.length===0){return null;}return decodeURIComponent(token[0].split('=')[1]);}export var Result=function Result(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),success=_useState2[0],setSuccess=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),test=_useState4[0],setTest=_useState4[1];var _useData=useData(),data=_useData.data;var entries=Object.entries(data).filter(function(entry){return entry[0]!=='files';});var files=data.files;var myStyle=useStyles();useEffect(function(){axios({method:\"GET\",url:\"http://127.0.0.1:8000/api/card\"}).then(function(response){setTest(response.data);console.log(\"response\",response.data);console.log(\"response\",response.cookies);});});var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var formData,object,dataJson,csrftoken,try_post,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData=new FormData();// const { width, height } = useWindowSize()\n// Swal.fire(\"Great job!\", \"You've passed all data!\", \"success\")\n// setSuccess(true)\nif(data.files){data.files.forEach(function(file){formData.append(\"files\",file,file.name);});}// formData to JSON method #0\n// JSON.stringify(Object.fromEntries(entries))\nentries.forEach(function(entry){if(entry[0]==='phoneNumber'){formData.append(entry[0],entry[1].replace(/\\s/g,''));}else{formData.append(entry[0],entry[1]);}});// formData to JSON method #1\nobject={};formData.forEach(function(value,key){return object[key]=value;});dataJson=JSON.stringify(object);//body:dataJson\n// formData to JSON method #2\n// JSON.stringify(Object.fromEntries(formData))\ncsrftoken=getCookie('csrftoken');console.log(csrftoken);try_post={firstName:\"Daddy\",lastName:'shatilov',email:'meme@corp.ru',hasPhone:true,phoneNumber:'+79123541268'};console.log('formData');console.log(JSON.stringify(Object.fromEntries(formData)));// headers\n// \"Authorization\": `AUTHORIZATION_KEY`,\n_context.next=13;return fetch(\"http://127.0.0.1:8000/api/card/\",{method:\"POST\",body:JSON.stringify(Object.fromEntries(formData)),headers:{'Content-Type':'application/json','Accept':'application/json','X-CSRFToken':csrftoken}}).then(function(resp){console.log(resp.status);if(resp.status==200){Swal.fire(\"Great job!\",\"You've passed all data\",\"success\");}console.log(resp.json());});case 13:res=_context.sent;case 14:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(){return _ref.apply(this,arguments);};}();// if (success) {\n//     console.log('here is confetti')\n//     return <Confetti />\n//     // width={\"500px\"}\n//     //                  height={\"300px\"}\n// }\nreturn/*#__PURE__*/_jsxs(MainContainer,{children:[/*#__PURE__*/_jsx(Typography,{component:'h2',variant:'h5',children:\"Form data \\uD83D\\uDC96\"}),/*#__PURE__*/_jsx(\"ul\",{children:test.map(function(p){return/*#__PURE__*/_jsxs(\"li\",{children:[p.firstName,\"--\",p.email]},p.id);})}),/*#__PURE__*/_jsxs(MuiThemeProvider,{children:[/*#__PURE__*/_jsx(TableContainer,{className:myStyle.root,component:\"div\",children:/*#__PURE__*/_jsxs(Table,{className:myStyle.table,children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Field\"}),/*#__PURE__*/_jsx(TableCell,{align:'right',children:\"Value\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:entries.map(function(entry){var _entry$;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:entry[0]}),/*#__PURE__*/_jsx(TableCell,{align:'right',children:(_entry$=entry[1])===null||_entry$===void 0?void 0:_entry$.toString()})]},entry[0]);})})]})}),files&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{component:'h2',variant:'h5',children:\"Files \\uD83D\\uDC27\"}),/*#__PURE__*/_jsx(List,{children:files.map(function(f,index){return/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(InsertDriveFile,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:f.name,secondary:f.size})]},index);})})]})]}),/*#__PURE__*/_jsx(PrimaryButton,{onClick:onSubmit,children:\"Submit\"}),/*#__PURE__*/_jsx(Link,{to:'/step1',children:\"To the start\"}),/*#__PURE__*/_jsx(Link,{to:'/',children:\"Home\"})]});};","map":{"version":3,"sources":["Q:/app_django_react_v01/main_app_ui/src/Result.js"],"names":["React","useEffect","useState","MainContainer","Typography","useData","makeStyles","MuiThemeProvider","TableContainer","Paper","TableHead","List","ListItem","TableCell","TableRow","TableBody","Link","Table","ListItemIcon","InsertDriveFile","ListItemText","PrimaryButton","Swal","Confetti","axios","$","jQuery","useStyles","theme","root","marginBottom","table","getCookie","name","document","cookie","token","split","map","c","trim","filter","startsWith","length","decodeURIComponent","Result","success","setSuccess","test","setTest","data","entries","Object","entry","files","myStyle","method","url","then","response","console","log","cookies","onSubmit","formData","FormData","forEach","file","append","replace","object","value","key","dataJson","JSON","stringify","csrftoken","try_post","firstName","lastName","email","hasPhone","phoneNumber","fromEntries","fetch","body","headers","resp","status","fire","json","res","p","id","toString","f","index","size"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {MainContainer} from \"./components/MainContainer\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {useData} from \"./DataContext\";\r\nimport {makeStyles, MuiThemeProvider, TableContainer} from \"@material-ui/core\";\r\nimport {Paper} from \"material-ui\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport {InsertDriveFile} from \"@material-ui/icons\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport {PrimaryButton} from \"./components/PrimaryButton\";\r\nimport Swal from 'sweetalert2';\r\nimport Confetti from \"react-confetti\";\r\n// import useWindowSize from 'react-use/lib/useWindowSize'\r\nimport axios from \"axios\";\r\nimport {$, jQuery} from 'jquery';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        marginBottom: \"30px\"\r\n    },\r\n    table: {\r\n        marginBottom: \"30px\"\r\n    },\r\n}));\r\n\r\nfunction getCookie(name) {\r\n    if (!document.cookie) {\r\n        return null;\r\n    }\r\n    const token = document.cookie.split(';')\r\n        .map(c => c.trim())\r\n        .filter(c => c.startsWith(name + '='));\r\n\r\n    if (token.length === 0) {\r\n        return null;\r\n    }\r\n    return decodeURIComponent(token[0].split('=')[1]);\r\n}\r\n\r\n\r\nexport const Result = () => {\r\n    const [success, setSuccess] = useState(false);\r\n    const [test, setTest] = useState([]);\r\n    const {data} = useData()\r\n    const entries = Object.entries(data).filter((entry) => entry[0] !== 'files')\r\n    const {files} = data;\r\n    const myStyle = useStyles()\r\n\r\n    useEffect(() => {\r\n        axios({\r\n            method: \"GET\",\r\n            url: \"http://127.0.0.1:8000/api/card\"\r\n        }).then(response => {\r\n            setTest(response.data)\r\n            console.log(\"response\", response.data)\r\n            console.log(\"response\", response.cookies)\r\n        })\r\n\r\n    })\r\n    const onSubmit = async () => {\r\n        const formData = new FormData();\r\n        // const { width, height } = useWindowSize()\r\n        // Swal.fire(\"Great job!\", \"You've passed all data!\", \"success\")\r\n        // setSuccess(true)\r\n\r\n        if (data.files) {\r\n            data.files.forEach(file => {\r\n                formData.append(\"files\", file, file.name)\r\n            })\r\n        }\r\n\r\n        // formData to JSON method #0\r\n        // JSON.stringify(Object.fromEntries(entries))\r\n        entries.forEach(entry => {\r\n            if (entry[0] === 'phoneNumber') {\r\n                formData.append(entry[0], entry[1].replace(/\\s/g, ''))\r\n            } else {\r\n                formData.append(entry[0], entry[1])\r\n            }\r\n        })\r\n\r\n        // formData to JSON method #1\r\n        let object = {};\r\n        formData.forEach((value, key) => object[key] = value);\r\n        let dataJson = JSON.stringify(object);\r\n        //body:dataJson\r\n\r\n        // formData to JSON method #2\r\n        // JSON.stringify(Object.fromEntries(formData))\r\n\r\n        const csrftoken = getCookie('csrftoken')\r\n        console.log(csrftoken)\r\n        const try_post = {\r\n            firstName: \"Daddy\",\r\n            lastName: 'shatilov',\r\n            email: 'meme@corp.ru',\r\n            hasPhone: true,\r\n            phoneNumber: '+79123541268'\r\n        }\r\n\r\n\r\n        console.log('formData')\r\n        console.log(JSON.stringify(Object.fromEntries(formData)))\r\n\r\n        // headers\r\n        // \"Authorization\": `AUTHORIZATION_KEY`,\r\n        const res = await fetch(\"http://127.0.0.1:8000/api/card/\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify(Object.fromEntries(formData)),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'X-CSRFToken': csrftoken\r\n            }\r\n        }).then(resp => {\r\n            console.log(resp.status)\r\n            if (resp.status == 200) {\r\n                Swal.fire(\"Great job!\", \"You've passed all data\", \"success\")\r\n            }\r\n            console.log(resp.json())\r\n        })\r\n        // .catch(error => console.err(error))\r\n        //\r\n        // if(res.status==200){\r\n        //     Swal.fire(\"Great job!\",\"You've passed all data\", \"success\")\r\n        // }\r\n\r\n\r\n//         let object = {};\r\n//         let formData2 = new FormData(document.forms.person);\r\n//\r\n//         formData2.forEach(function (value, key) {\r\n//             object[key] = value;\r\n//         });\r\n//         let json = JSON.stringify(object);\r\n//\r\n//         let xhr = new XMLHttpRequest();\r\n//         xhr.open(\"POST\", '/submit', true)\r\n//         xhr.setRequestHeader('Content-type', 'application/json; charset=utf-8');\r\n//\r\n// // Отсылаем объект в формате JSON и с Content-Type application/json\r\n//         xhr.send(json);\r\n\r\n    }\r\n    // if (success) {\r\n    //     console.log('here is confetti')\r\n    //     return <Confetti />\r\n    //     // width={\"500px\"}\r\n    //     //                  height={\"300px\"}\r\n    // }\r\n\r\n\r\n    return (\r\n        <MainContainer>\r\n            <Typography component={'h2'} variant={'h5'}>\r\n                Form data 💖\r\n            </Typography>\r\n            <ul>\r\n                {test.map(p => (\r\n                    <li key={p.id}>{p.firstName}--{p.email}</li>\r\n                ))}\r\n            </ul>\r\n            <MuiThemeProvider>\r\n                <TableContainer className={myStyle.root} component={\"div\"}>\r\n                    <Table className={myStyle.table}>\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell>\r\n                                    Field\r\n                                </TableCell>\r\n                                <TableCell align={'right'}>\r\n                                    Value\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {\r\n                                entries.map(entry => (\r\n                                    <TableRow key={entry[0]}>\r\n                                        <TableCell>{entry[0]}</TableCell>\r\n                                        <TableCell align={'right'}>{entry[1]?.toString()}</TableCell>\r\n                                    </TableRow>\r\n                                ))\r\n                            }\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n                {\r\n                    files &&\r\n                    <>\r\n                        <Typography component={'h2'} variant={'h5'}>\r\n                            Files 🐧\r\n                        </Typography>\r\n                        <List>\r\n                            {\r\n                                files.map((f, index) => (\r\n                                    <ListItem key={index}>\r\n                                        <ListItemIcon>\r\n                                            <InsertDriveFile/>\r\n                                        </ListItemIcon>\r\n                                        <ListItemText primary={f.name} secondary={f.size}/>\r\n                                    </ListItem>\r\n                                ))\r\n                            }\r\n                        </List>\r\n                    </>\r\n                }\r\n            </MuiThemeProvider>\r\n            {/*<input type={'submit'} onClick={onSubmit}/>*/}\r\n            <PrimaryButton onClick={onSubmit}>Submit</PrimaryButton>\r\n            <Link to={'/step1'}>To the start</Link>\r\n            <Link to={'/'}>Home</Link>\r\n        </MainContainer>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}